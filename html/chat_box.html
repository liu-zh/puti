<!DOCTYPE html>
  <html>
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
      <title>聊天界面</title>
      <link rel="stylesheet" type="text/css" href="../css/api.css"/>
      <link rel="stylesheet" type="text/css" href="../css/aui.css"/>
      <style>
          #header{
            width: 100%;
            height: 44px;
            background-color: rgb(212,157,59);
          }
      </style>
  </head>
  <body>
    <header class="aui-bar aui-bar-nav" id="header">
      <a class="aui-pull-left aui-btn" onclick="api.closeWin()">
          <span class="aui-iconfont aui-icon-left"></span>
      </a>
      <div class="aui-title">{{id.mobile.substr(0,3)+ "****" + id.mobile.substr(7)}}</div>
    </header>
  </body>
  <script type="text/javascript" src="../script/api.js"></script>
  <script type="text/javascript" src="../script/vue.js"></script>
  <script type="text/javascript">
      apiready = function(){
        $api.fixStatusBar($api.byId("header"));
        let vue = new Vue({
          el:"#header",
          data:{
            id: api.pageParam.id
          }
        });
        api.openFrame({
            name: 'chat_box_frame',
            url: 'widget://html/frame/chat_box.html',
            rect: {x: 0, y: $api.dom('#header').offsetHeight, w: 'auto', marginBottom:50},
            bounces: true,
            bgColor: '#E6E7E8',
            pageParam: {
              id: api.pageParam.id
            }
        });

      };
  </script>
  </html>
